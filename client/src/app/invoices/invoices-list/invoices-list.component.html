<mat-toolbar class="toolbar">
  <span>Invoices</span>
  <span class="spacer"></span>
  <button mat-raised-button color="primary" (click)="openInvoiceCreatePage({})" class="createButton">Create</button>
</mat-toolbar>

<mat-table [dataSource]="invoices" class="mat-elevation-z8">
  <ng-container matColumnDef="invoiceNumber">
    <mat-header-cell *matHeaderCellDef class="mat-header-cell">Invoice number</mat-header-cell>
    <mat-cell *matCellDef="let invoice" class="mat-cell">{{ invoice.invoiceNumber }}</mat-cell>
  </ng-container>
  <br>

  <ng-container matColumnDef="shippingDate">
    <mat-header-cell *matHeaderCellDef class="mat-header-cell">Shipping Date</mat-header-cell>
    <mat-cell *matCellDef="let invoice" class="mat-cell">{{ invoice.shippingDate | date: 'dd/MM/yyyy' }}</mat-cell>
  </ng-container>
  <br>

  <ng-container matColumnDef="documentDate">
    <mat-header-cell *matHeaderCellDef class="mat-header-cell">Document Date</mat-header-cell>
    <mat-cell *matCellDef="let invoice" class="mat-cell">{{ invoice.documentDate | date: 'dd/MM/yyyy' }}</mat-cell>
  </ng-container>
  <br>

  <ng-container matColumnDef="arrivalDate">
    <mat-header-cell *matHeaderCellDef class="mat-header-cell">Arrival Date</mat-header-cell>
    <mat-cell *matCellDef="let invoice" class="mat-cell">{{ invoice.arrivalDate | date: 'dd/MM/yyyy' }}</mat-cell>
  </ng-container>
  <br>

  <ng-container matColumnDef="description">
    <mat-header-cell *matHeaderCellDef class="mat-header-cell">Description</mat-header-cell>
    <mat-cell *matCellDef="let invoice" class="mat-cell">{{ invoice.description }}</mat-cell>
  </ng-container>
  <br>

  <ng-container matColumnDef="remark">
    <mat-header-cell *matHeaderCellDef="let invoice" class="mat-header-cell">Remark</mat-header-cell>
    <mat-cell *matCellDef="let invoice" class="mat-cell">{{ invoice.remark }}</mat-cell>
  </ng-container>
  <br>

  <ng-container matColumnDef="placeOfIssuance">
    <mat-header-cell *matHeaderCellDef class="mat-header-cell">Place of Issuance</mat-header-cell>
    <mat-cell *matCellDef="let invoice" class="mat-cell">{{ invoice.placeOfIssuance }}</mat-cell>
  </ng-container>
  <br>

  <ng-container matColumnDef="dateOfIssuance">
    <mat-header-cell *matHeaderCellDef class="mat-header-cell">Date of Issuance</mat-header-cell>
    <mat-cell *matCellDef="let invoice" class="mat-cell">{{ invoice.dateOfIssuance | date: 'dd/MM/yyyy' }}</mat-cell>
  </ng-container>
  <br>

  <ng-container matColumnDef="fiscalNumber">
    <mat-header-cell *matHeaderCellDef class="mat-header-cell">Fiscal Number</mat-header-cell>
    <mat-cell *matCellDef="let invoice" class="mat-cell">{{ invoice.fiscalNumber }}</mat-cell>
  </ng-container>
  <br>

  <ng-container matColumnDef="buyer">
    <mat-header-cell *matHeaderCellDef class="mat-header-cell">Buyer</mat-header-cell>
    <mat-cell *matCellDef="let invoice" class="mat-cell">{{ invoice.buyer.name }}</mat-cell>
  </ng-container>
  <br>

  <ng-container matColumnDef="totalPrice">
    <mat-header-cell *matHeaderCellDef class="mat-header-cell">Total Price</mat-header-cell>
    <mat-cell *matCellDef="let invoice" class="mat-cell">{{ invoice.totalPrice }}</mat-cell>
  </ng-container>


  <ng-container matColumnDef="isCharged">
    <mat-header-cell *matHeaderCellDef class="mat-header-cell">Is Charged</mat-header-cell>
    <mat-cell *matCellDef="let invoice" class="mat-cell">{{ invoice.isCharged ? "Yes" : "No" }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="actions">
    <mat-header-cell *matHeaderCellDef class="mat-header-cell">Actions</mat-header-cell>
    <mat-cell *matCellDef="let invoice" class="mat-cell">
      <ng-container>
        <button mat-mini-fab color="primary" (click)="openInvoiceCreatePage(invoice)" class="editButton">
          <mat-icon *ngIf="!invoice.isCharged">edit</mat-icon>
          <mat-icon *ngIf="invoice.isCharged">visibility</mat-icon>
        </button>
        <button *ngIf="!invoice.isCharged" mat-mini-fab color="warn" (click)="deleteInvoice(invoice)" class="editButton">
          <mat-icon>delete</mat-icon>
        </button>
        <button *ngIf="!invoice.isCharged" mat-mini-fab color="accent" (click)="payTheInvoice(invoice)">
          <mat-icon>check</mat-icon>
        </button>
      </ng-container>
    </mat-cell>
  </ng-container>
  

  <mat-header-row *matHeaderRowDef="['invoiceNumber', 'shippingDate', 'documentDate', 'arrivalDate', 'description', 'remark', 'placeOfIssuance', 'dateOfIssuance', 'fiscalNumber', 'buyer', 'totalPrice', 'isCharged', 'actions']"></mat-header-row>
  <mat-row *matRowDef="let invoice; columns: ['invoiceNumber', 'shippingDate', 'documentDate', 'arrivalDate', 'description', 'remark', 'placeOfIssuance', 'dateOfIssuance', 'fiscalNumber', 'buyer', 'totalPrice', 'isCharged', 'actions']"></mat-row>
</mat-table>